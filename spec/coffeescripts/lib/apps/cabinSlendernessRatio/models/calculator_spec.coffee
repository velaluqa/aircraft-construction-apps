describe 'ILR.CabinSlendernessRatio.Models.Calculator', ->
  beforeEach ->
    @model = new Backbone.Model
      f_ratio_lr: 4
      c_ratio_lr: 18
      m_aisleWidth: 20
      f_seatWidth: 55
      c_seatWidth: 49.5
      m_seatWidth_lr: 46.5
      m_seatWidth_reg: 42
      m_abreast: 2
      f_seatSpace: 6
      c_seatSpace: 4
      m_seatSpace: 4
      f_seatPitch: 85
      c_seatPitch: 48
      m_seatPitch_lr: 34
      m_seatPitch_reg: 32
      f_serviceArea: 477.750635501271
      c_serviceArea: 180.750201500403
      m_serviceArea_lr: 82.055648555742
      m_serviceArea_reg: 71.715994341080
      f_stowage: 30
      c_stowage: 30
      m_stowage: 30
      f_doorWidth: 45
      c_doorWidth: 45
      m_doorWidth: 45
      f_doorInterval: 60
      c_doorInterval: 60
      m_doorInterval: 60

    @calc = new ILR.CabinSlendernessRatio.Models.Calculator
      model: @model

  describe 'model parameter', ->
    describe '#f_ratio_lr', ->
      it 'should return the correct value', ->
        expect(@calc.f_ratio_lr()).toEqual(0.04)
    describe '#c_ratio_lr', ->
      it 'should return the correct value', ->
        expect(@calc.c_ratio_lr()).toEqual(0.18)
    describe '#m_ratio_lr', ->
      it 'should return the correct value', ->
        expect(@calc.m_ratio_lr()).toEqual(0.78)
    describe '#f_aisleWidth', ->
      it 'should return the correct value', ->
        @model.set('m_abreast', 7)
        expectRounded(@calc.f_aisleWidth()).toEqual(28.9409)
    describe '#c_aisleWidth', ->
      it 'should return the correct value', ->
        @model.set('m_abreast', 7)
        expectRounded(@calc.c_aisleWidth()).toEqual(25.6102)
    describe '#m_aisleWidth', ->
      it 'should return the correct value', ->
        expect(@calc.m_aisleWidth()).toEqual(20)
    describe '#f_seatWidth', ->
      it 'should return the correct value', ->
        expectRounded(@calc.f_seatWidth()).toEqual(21.6535)
    describe '#c_seatWidth', ->
      it 'should return the correct value', ->
        expectRounded(@calc.c_seatWidth()).toEqual(19.4882)
    describe '#m_seatWidth_lr', ->
      it 'should return the correct value', ->
        expectRounded(@calc.m_seatWidth_lr()).toEqual(18.3071)
    describe '#m_seatWidth_reg', ->
      it 'should return the correct value', ->
        expectRounded(@calc.m_seatWidth_reg()).toEqual(16.5354)
    describe '#f_abreast', ->
      it 'should return the correct value', ->
        @model.set('m_abreast', 7)
        expect(@calc.f_abreast()).toEqual(5)
    describe '#c_abreast', ->
      it 'should return the correct value', ->
        @model.set('m_abreast', 7)
        expect(@calc.c_abreast()).toEqual(6)
    describe '#m_abreast', ->
      it 'should return the correct value', ->
        expect(@calc.m_abreast()).toEqual(2)
    describe '#f_seatSpace', ->
      it 'should return the correct value', ->
        expect(@calc.f_seatSpace()).toEqual(6)
    describe '#c_seatSpace', ->
      it 'should return the correct value', ->
        expect(@calc.c_seatSpace()).toEqual(4)
    describe '#m_seatSpace', ->
      it 'should return the correct value', ->
        expect(@calc.m_seatSpace()).toEqual(4)
    describe '#f_seatPitch', ->
      it 'should return the correct value', ->
        expect(@calc.f_seatPitch()).toEqual(85)
    describe '#c_seatPitch', ->
      it 'should return the correct value', ->
        expect(@calc.c_seatPitch()).toEqual(48)
    describe '#m_seatPitch_lr', ->
      it 'should return the correct value', ->
        expect(@calc.m_seatPitch_lr()).toEqual(34)
    describe '#m_seatPitch_reg', ->
      it 'should return the correct value', ->
        expect(@calc.m_seatPitch_reg()).toEqual(32)
    describe '#f_serviceArea', ->
      it 'should return the correct value', ->
        expect(@calc.f_serviceArea()).toEqual(477.750635501271)
    describe '#c_serviceArea', ->
      it 'should return the correct value', ->
        expect(@calc.c_serviceArea()).toEqual(180.750201500403)
    describe '#m_serviceArea_lr', ->
      it 'should return the correct value', ->
        expect(@calc.m_serviceArea_lr()).toEqual(82.055648555742)
    describe '#m_serviceArea_reg', ->
      it 'should return the correct value', ->
        expect(@calc.m_serviceArea_reg()).toEqual(71.715994341080)
    describe '#f_stowage', ->
      it 'should return the correct value', ->
        expect(@calc.f_stowage()).toEqual(30)
    describe '#c_stowage', ->
      it 'should return the correct value', ->
        expect(@calc.c_stowage()).toEqual(30)
    describe '#m_stowage', ->
      it 'should return the correct value', ->
        expect(@calc.m_stowage()).toEqual(30)
    describe '#f_doorWidth', ->
      it 'should return the correct value', ->
        expect(@calc.f_doorWidth()).toEqual(45)
    describe '#c_doorWidth', ->
      it 'should return the correct value', ->
        expect(@calc.c_doorWidth()).toEqual(45)
    describe '#m_doorWidth', ->
      it 'should return the correct value', ->
        expect(@calc.m_doorWidth()).toEqual(45)
    describe '#f_doorInterval', ->
      it 'should return the correct value', ->
        expect(@calc.f_doorInterval()).toEqual(720)
    describe '#c_doorInterval', ->
      it 'should return the correct value', ->
        expect(@calc.c_doorInterval()).toEqual(720)
    describe '#m_doorInterval', ->
      it 'should return the correct value', ->
        expect(@calc.m_doorInterval()).toEqual(720)

  describe '#aisleFactor', ->
    it 'should return the correct value for abreast of 2', ->
      expect(@calc.aisleFactor(2)).toEqual(1)
    it 'should return the correct value for abreast of 3', ->
      expect(@calc.aisleFactor(3)).toEqual(1)
    it 'should return the correct value for abreast of 4', ->
      expect(@calc.aisleFactor(4)).toEqual(1)
    it 'should return the correct value for abreast of 5', ->
      expect(@calc.aisleFactor(5)).toEqual(1)
    it 'should return the correct value for abreast of 6', ->
      expect(@calc.aisleFactor(6)).toEqual(1)
    it 'should return the correct value for abreast of 7', ->
      expect(@calc.aisleFactor(7)).toEqual(2)
    it 'should return the correct value for abreast of 8', ->
      expect(@calc.aisleFactor(8)).toEqual(2)
    it 'should return the correct value for abreast of 9', ->
      expect(@calc.aisleFactor(9)).toEqual(2)
    it 'should return the correct value for abreast of 10', ->
      expect(@calc.aisleFactor(10)).toEqual(2)
    it 'should return the correct value for abreast of 11', ->
      expect(@calc.aisleFactor(11)).toEqual(3)

  describe '#_cap', ->
    it 'should return the correct value', ->
      expectRounded(@calc._cap(0.881623410823, 2)).toEqual(1)
      expectRounded(@calc._cap(0.235500743120, 2)).toEqual(10)
      expectRounded(@calc._cap(0.129801877238, 2)).toEqual(20)
      expectRounded(@calc._cap(0.089591071447, 2)).toEqual(30)
      expectRounded(@calc._cap(0.068401304246, 2)).toEqual(40)
      expectRounded(@calc._cap(0.055317744572, 2)).toEqual(50)
      expectRounded(@calc._cap(0.046435689951, 2)).toEqual(60)
      expectRounded(@calc._cap(0.040011303275, 2)).toEqual(70)
      expectRounded(@calc._cap(0.035148501326, 2)).toEqual(80)
      expectRounded(@calc._cap(0.031339618678, 2)).toEqual(90)
      expectRounded(@calc._cap(0.028275528700, 2)).toEqual(100)
      expectRounded(@calc._cap(0.025757231473, 2)).toEqual(110)
      expectRounded(@calc._cap(0.023650823366, 2)).toEqual(120)
      expectRounded(@calc._cap(0.021862891609, 2)).toEqual(130)
      expectRounded(@calc._cap(0.020326285040, 2)).toEqual(140)
      expectRounded(@calc._cap(0.018991491325, 2)).toEqual(150)
      expectRounded(@calc._cap(0.017821202276, 2)).toEqual(160)
      expectRounded(@calc._cap(0.016786771909, 2)).toEqual(170)
      expectRounded(@calc._cap(0.015865840379, 2)).toEqual(180)
      expectRounded(@calc._cap(0.015040699348, 2)).toEqual(190)
      expectRounded(@calc._cap(0.014297142223, 2)).toEqual(200)
      expectRounded(@calc._cap(0.013623639357, 2)).toEqual(210)
      expectRounded(@calc._cap(0.013010735898, 2)).toEqual(220)
      expectRounded(@calc._cap(0.012450605175, 2)).toEqual(230)
      expectRounded(@calc._cap(0.011936712681, 2)).toEqual(240)
      expectRounded(@calc._cap(0.011463559984, 2)).toEqual(250)
      expectRounded(@calc._cap(0.011026487206, 2)).toEqual(260)
      expectRounded(@calc._cap(0.010621519043, 2)).toEqual(270)
      expectRounded(@calc._cap(0.010245243502, 2)).toEqual(280)
      expectRounded(@calc._cap(0.009894715538, 2)).toEqual(290)
      expectRounded(@calc._cap(0.009567379817, 2)).toEqual(300)
      expectRounded(@calc._cap(0.009261008318, 2)).toEqual(310)
      expectRounded(@calc._cap(0.008973649551, 2)).toEqual(320)
      expectRounded(@calc._cap(0.008703586948, 2)).toEqual(330)
      expectRounded(@calc._cap(0.008449304544, 2)).toEqual(340)
      expectRounded(@calc._cap(0.008209458506, 2)).toEqual(350)
      expectRounded(@calc._cap(0.007982853376, 2)).toEqual(360)
      expectRounded(@calc._cap(0.007768422144, 2)).toEqual(370)
      expectRounded(@calc._cap(0.007565209444, 2)).toEqual(380)
      expectRounded(@calc._cap(0.007372357329, 2)).toEqual(390)
      expectRounded(@calc._cap(0.007189093161, 2)).toEqual(400)
      expectRounded(@calc._cap(0.007014719262, 2)).toEqual(410)
      expectRounded(@calc._cap(0.006848604042, 2)).toEqual(420)
      expectRounded(@calc._cap(0.006690174355, 2)).toEqual(430)
      expectRounded(@calc._cap(0.006538908887, 2)).toEqual(440)
      expectRounded(@calc._cap(0.006394332433, 2)).toEqual(450)
      expectRounded(@calc._cap(0.006256010904, 2)).toEqual(460)
      expectRounded(@calc._cap(0.005757802209, 2)).toEqual(500)

      expectRounded(@calc._cap(1.264495078389, 3)).toEqual(1)
      expectRounded(@calc._cap(0.415619228908, 3)).toEqual(10)
      expectRounded(@calc._cap(0.238053512195, 3)).toEqual(20)
      expectRounded(@calc._cap(0.166793877538, 3)).toEqual(30)
      expectRounded(@calc._cap(0.128367865268, 3)).toEqual(40)
      expectRounded(@calc._cap(0.104331865782, 3)).toEqual(50)
      expectRounded(@calc._cap(0.087877423000, 3)).toEqual(60)
      expectRounded(@calc._cap(0.075906082492, 3)).toEqual(70)
      expectRounded(@calc._cap(0.066805343252, 3)).toEqual(80)
      expectRounded(@calc._cap(0.059653234792, 3)).toEqual(90)
      expectRounded(@calc._cap(0.053884425899, 3)).toEqual(100)
      expectRounded(@calc._cap(0.049132985286, 3)).toEqual(110)
      expectRounded(@calc._cap(0.045151591719, 3)).toEqual(120)
      expectRounded(@calc._cap(0.041767079640, 3)).toEqual(130)
      expectRounded(@calc._cap(0.038854584106, 3)).toEqual(140)
      expectRounded(@calc._cap(0.036321798101, 3)).toEqual(150)
      expectRounded(@calc._cap(0.034099010288, 3)).toEqual(160)
      expectRounded(@calc._cap(0.032132589773, 3)).toEqual(170)
      expectRounded(@calc._cap(0.030380602279, 3)).toEqual(180)
      expectRounded(@calc._cap(0.028809786304, 3)).toEqual(190)
      expectRounded(@calc._cap(0.027393421241, 3)).toEqual(200)
      expectRounded(@calc._cap(0.026109794875, 3)).toEqual(210)
      expectRounded(@calc._cap(0.024941082476, 3)).toEqual(220)
      expectRounded(@calc._cap(0.023872514023, 3)).toEqual(230)
      expectRounded(@calc._cap(0.022891746713, 3)).toEqual(240)
      expectRounded(@calc._cap(0.021988386044, 3)).toEqual(250)
      expectRounded(@calc._cap(0.021153615987, 3)).toEqual(260)
      expectRounded(@calc._cap(0.020379910320, 3)).toEqual(270)
      expectRounded(@calc._cap(0.019660805071, 3)).toEqual(280)
      expectRounded(@calc._cap(0.018990717498, 3)).toEqual(290)
      expectRounded(@calc._cap(0.018364800869, 3)).toEqual(300)
      expectRounded(@calc._cap(0.017778827038, 3)).toEqual(310)
      expectRounded(@calc._cap(0.017229090810, 3)).toEqual(320)
      expectRounded(@calc._cap(0.016712331517, 3)).toEqual(330)
      expectRounded(@calc._cap(0.016225668294, 3)).toEqual(340)
      expectRounded(@calc._cap(0.015766546342, 3)).toEqual(350)
      expectRounded(@calc._cap(0.015332692070, 3)).toEqual(360)
      expectRounded(@calc._cap(0.014922075437, 3)).toEqual(370)
      expectRounded(@calc._cap(0.014532878191, 3)).toEqual(380)
      expectRounded(@calc._cap(0.014163466956, 3)).toEqual(390)
      expectRounded(@calc._cap(0.013812370310, 3)).toEqual(400)
      expectRounded(@calc._cap(0.013478259206, 3)).toEqual(410)
      expectRounded(@calc._cap(0.013159930150, 3)).toEqual(420)
      expectRounded(@calc._cap(0.012856290724, 3)).toEqual(430)
      expectRounded(@calc._cap(0.012566347056, 3)).toEqual(440)
      expectRounded(@calc._cap(0.012289192957, 3)).toEqual(450)
      expectRounded(@calc._cap(0.012024000455, 3)).toEqual(460)
      expectRounded(@calc._cap(0.011068589637, 3)).toEqual(500)

      expectRounded(@calc._cap(1.640953267245, 4)).toEqual(1)
      expectRounded(@calc._cap(0.624572856644, 4)).toEqual(10)
      expectRounded(@calc._cap(0.369962776464, 4)).toEqual(20)
      expectRounded(@calc._cap(0.262822102739, 4)).toEqual(30)
      expectRounded(@calc._cap(0.203801491704, 4)).toEqual(40)
      expectRounded(@calc._cap(0.166427681282, 4)).toEqual(50)
      expectRounded(@calc._cap(0.140637160634, 4)).toEqual(60)
      expectRounded(@calc._cap(0.121767430511, 4)).toEqual(70)
      expectRounded(@calc._cap(0.107362293901, 4)).toEqual(80)
      expectRounded(@calc._cap(0.096004877770, 4)).toEqual(90)
      expectRounded(@calc._cap(0.086820494258, 4)).toEqual(100)
      expectRounded(@calc._cap(0.079239941773, 4)).toEqual(110)
      expectRounded(@calc._cap(0.072876849856, 4)).toEqual(120)
      expectRounded(@calc._cap(0.067459727655, 4)).toEqual(130)
      expectRounded(@calc._cap(0.062792221604, 4)).toEqual(140)
      expectRounded(@calc._cap(0.058728803956, 4)).toEqual(150)
      expectRounded(@calc._cap(0.055159327079, 4)).toEqual(160)
      expectRounded(@calc._cap(0.051998887659, 4)).toEqual(170)
      expectRounded(@calc._cap(0.049180986555, 4)).toEqual(180)
      expectRounded(@calc._cap(0.046652798396, 4)).toEqual(190)
      expectRounded(@calc._cap(0.044371828855, 4)).toEqual(200)
      expectRounded(@calc._cap(0.042303506828, 4)).toEqual(210)
      expectRounded(@calc._cap(0.040419420034, 4)).toEqual(220)
      expectRounded(@calc._cap(0.038696002005, 4)).toEqual(230)
      expectRounded(@calc._cap(0.037113541246, 4)).toEqual(240)
      expectRounded(@calc._cap(0.035655423964, 4)).toEqual(250)
      expectRounded(@calc._cap(0.034307548558, 4)).toEqual(260)
      expectRounded(@calc._cap(0.033057868078, 4)).toEqual(270)
      expectRounded(@calc._cap(0.031896029162, 4)).toEqual(280)
      expectRounded(@calc._cap(0.030813084531, 4)).toEqual(290)
      expectRounded(@calc._cap(0.029801262130, 4)).toEqual(300)
      expectRounded(@calc._cap(0.028853778303, 4)).toEqual(310)
      expectRounded(@calc._cap(0.027964685515, 4)).toEqual(320)
      expectRounded(@calc._cap(0.027128747378, 4)).toEqual(330)
      expectRounded(@calc._cap(0.026341335453, 4)).toEqual(340)
      expectRounded(@calc._cap(0.025598343502, 4)).toEqual(350)
      expectRounded(@calc._cap(0.024896115867, 4)).toEqual(360)
      expectRounded(@calc._cap(0.024231387315, 4)).toEqual(370)
      expectRounded(@calc._cap(0.023601232273, 4)).toEqual(380)
      expectRounded(@calc._cap(0.023003021779, 4)).toEqual(390)
      expectRounded(@calc._cap(0.022434386826, 4)).toEqual(400)
      expectRounded(@calc._cap(0.021893187000, 4)).toEqual(410)
      expectRounded(@calc._cap(0.021377483564, 4)).toEqual(420)
      expectRounded(@calc._cap(0.020885516246, 4)).toEqual(430)
      expectRounded(@calc._cap(0.020415683168, 4)).toEqual(440)
      expectRounded(@calc._cap(0.019966523423, 4)).toEqual(450)
      expectRounded(@calc._cap(0.019536701900, 4)).toEqual(460)
      expectRounded(@calc._cap(0.017987800538, 4)).toEqual(500)

      expectRounded(@calc._cap(2.025486747767, 5)).toEqual(1)
      expectRounded(@calc._cap(0.876744187219, 5)).toEqual(10)
      expectRounded(@calc._cap(0.537827093907, 5)).toEqual(20)
      expectRounded(@calc._cap(0.387885002067, 5)).toEqual(30)
      expectRounded(@calc._cap(0.303321328950, 5)).toEqual(40)
      expectRounded(@calc._cap(0.249029789873, 5)).toEqual(50)
      expectRounded(@calc._cap(0.211222955229, 5)).toEqual(60)
      expectRounded(@calc._cap(0.183382468140, 5)).toEqual(70)
      expectRounded(@calc._cap(0.162026391330, 5)).toEqual(80)
      expectRounded(@calc._cap(0.145125577371, 5)).toEqual(90)
      expectRounded(@calc._cap(0.131417542420, 5)).toEqual(100)
      expectRounded(@calc._cap(0.120075634127, 5)).toEqual(110)
      expectRounded(@calc._cap(0.110535902616, 5)).toEqual(120)
      expectRounded(@calc._cap(0.102400425560, 5)).toEqual(130)
      expectRounded(@calc._cap(0.095380398364, 5)).toEqual(140)
      expectRounded(@calc._cap(0.089261131138, 5)).toEqual(150)
      expectRounded(@calc._cap(0.083879707355, 5)).toEqual(160)
      expectRounded(@calc._cap(0.079110264555, 5)).toEqual(170)
      expectRounded(@calc._cap(0.074854026554, 5)).toEqual(180)
      expectRounded(@calc._cap(0.071032389055, 5)).toEqual(190)
      expectRounded(@calc._cap(0.067582020445, 5)).toEqual(200)
      expectRounded(@calc._cap(0.064451324304, 5)).toEqual(210)
      expectRounded(@calc._cap(0.061597841620, 5)).toEqual(220)
      expectRounded(@calc._cap(0.058986313822, 5)).toEqual(230)
      expectRounded(@calc._cap(0.056587218493, 5)).toEqual(240)
      expectRounded(@calc._cap(0.054375648456, 5)).toEqual(250)
      expectRounded(@calc._cap(0.052330443821, 5)).toEqual(260)
      expectRounded(@calc._cap(0.050433512803, 5)).toEqual(270)
      expectRounded(@calc._cap(0.048669295099, 5)).toEqual(280)
      expectRounded(@calc._cap(0.047024334077, 5)).toEqual(290)
      expectRounded(@calc._cap(0.045486932900, 5)).toEqual(300)
      expectRounded(@calc._cap(0.044046875953, 5)).toEqual(310)
      expectRounded(@calc._cap(0.042695201577, 5)).toEqual(320)
      expectRounded(@calc._cap(0.041424015393, 5)).toEqual(330)
      expectRounded(@calc._cap(0.040226336013, 5)).toEqual(340)
      expectRounded(@calc._cap(0.039095966763, 5)).toEqual(350)
      expectRounded(@calc._cap(0.038027388442, 5)).toEqual(360)
      expectRounded(@calc._cap(0.037015669206, 5)).toEqual(370)
      expectRounded(@calc._cap(0.036056388454, 5)).toEqual(380)
      expectRounded(@calc._cap(0.035145572258, 5)).toEqual(390)
      expectRounded(@calc._cap(0.034279638339, 5)).toEqual(400)
      expectRounded(@calc._cap(0.033455348974, 5)).toEqual(410)
      expectRounded(@calc._cap(0.032669770545, 5)).toEqual(420)
      expectRounded(@calc._cap(0.031920238655, 5)).toEqual(430)
      expectRounded(@calc._cap(0.031204327937, 5)).toEqual(440)
      expectRounded(@calc._cap(0.030519825836, 5)).toEqual(450)
      expectRounded(@calc._cap(0.029864709769, 5)).toEqual(460)
      expectRounded(@calc._cap(0.027503251721, 5)).toEqual(500)

      expectRounded(@calc._cap(2.397621195288, 6)).toEqual(1)
      expectRounded(@calc._cap(1.131478862526, 6)).toEqual(10)
      expectRounded(@calc._cap(0.713075621539, 6)).toEqual(20)
      expectRounded(@calc._cap(0.520575075566, 6)).toEqual(30)
      expectRounded(@calc._cap(0.409915155548, 6)).toEqual(40)
      expectRounded(@calc._cap(0.338054155058, 6)).toEqual(50)
      expectRounded(@calc._cap(0.287630510181, 6)).toEqual(60)
      expectRounded(@calc._cap(0.250296642703, 6)).toEqual(70)
      expectRounded(@calc._cap(0.221541054917, 6)).toEqual(80)
      expectRounded(@calc._cap(0.198711840323, 6)).toEqual(90)
      expectRounded(@calc._cap(0.180148063092, 6)).toEqual(100)
      expectRounded(@calc._cap(0.164756421132, 6)).toEqual(110)
      expectRounded(@calc._cap(0.151787843503, 6)).toEqual(120)
      expectRounded(@calc._cap(0.140711897827, 6)).toEqual(130)
      expectRounded(@calc._cap(0.131142445070, 6)).toEqual(140)
      expectRounded(@calc._cap(0.122791698769, 6)).toEqual(150)
      expectRounded(@calc._cap(0.115440785694, 6)).toEqual(160)
      expectRounded(@calc._cap(0.108920283539, 6)).toEqual(170)
      expectRounded(@calc._cap(0.103097001775, 6)).toEqual(180)
      expectRounded(@calc._cap(0.097864787760, 6)).toEqual(190)
      expectRounded(@calc._cap(0.093137997206, 6)).toEqual(200)
      expectRounded(@calc._cap(0.088846769673, 6)).toEqual(210)
      expectRounded(@calc._cap(0.084933552615, 6)).toEqual(220)
      expectRounded(@calc._cap(0.081350505240, 6)).toEqual(230)
      expectRounded(@calc._cap(0.078057532914, 6)).toEqual(240)
      expectRounded(@calc._cap(0.075020780371, 6)).toEqual(250)
      expectRounded(@calc._cap(0.072211463484, 6)).toEqual(260)
      expectRounded(@calc._cap(0.069604954036, 6)).toEqual(270)
      expectRounded(@calc._cap(0.067180055804, 6)).toEqual(280)
      expectRounded(@calc._cap(0.064918426862, 6)).toEqual(290)
      expectRounded(@calc._cap(0.062804114780, 6)).toEqual(300)
      expectRounded(@calc._cap(0.060823179781, 6)).toEqual(310)
      expectRounded(@calc._cap(0.058963387036, 6)).toEqual(320)
      expectRounded(@calc._cap(0.057213953736, 6)).toEqual(330)
      expectRounded(@calc._cap(0.055565339896, 6)).toEqual(340)
      expectRounded(@calc._cap(0.054009074308, 6)).toEqual(350)
      expectRounded(@calc._cap(0.052537608947, 6)).toEqual(360)
      expectRounded(@calc._cap(0.051144196551, 6)).toEqual(370)
      expectRounded(@calc._cap(0.049822787172, 6)).toEqual(380)
      expectRounded(@calc._cap(0.048567940361, 6)).toEqual(390)
      expectRounded(@calc._cap(0.047374750303, 6)).toEqual(400)
      expectRounded(@calc._cap(0.046238781714, 6)).toEqual(410)
      expectRounded(@calc._cap(0.045156014755, 6)).toEqual(420)
      expectRounded(@calc._cap(0.044122797496, 6)).toEqual(430)
      expectRounded(@calc._cap(0.043135804774, 6)).toEqual(440)
      expectRounded(@calc._cap(0.042192002437, 6)).toEqual(450)
      expectRounded(@calc._cap(0.041288616198, 6)).toEqual(460)
      expectRounded(@calc._cap(0.038031406553, 6)).toEqual(500)

      expectRounded(@calc._cap(1.210343257904, 7)).toEqual(1)
      expectRounded(@calc._cap(0.830354847321, 7)).toEqual(10)
      expectRounded(@calc._cap(0.615609193405, 7)).toEqual(20)
      expectRounded(@calc._cap(0.489114757093, 7)).toEqual(30)
      expectRounded(@calc._cap(0.405743253420, 7)).toEqual(40)
      expectRounded(@calc._cap(0.346654629882, 7)).toEqual(50)
      expectRounded(@calc._cap(0.302588493419, 7)).toEqual(60)
      expectRounded(@calc._cap(0.268462060959, 7)).toEqual(70)
      expectRounded(@calc._cap(0.241253132316, 7)).toEqual(80)
      expectRounded(@calc._cap(0.219051971252, 7)).toEqual(90)
      expectRounded(@calc._cap(0.200592571586, 7)).toEqual(100)
      expectRounded(@calc._cap(0.185002503479, 7)).toEqual(110)
      expectRounded(@calc._cap(0.171660999122, 7)).toEqual(120)
      expectRounded(@calc._cap(0.160114313177, 7)).toEqual(130)
      expectRounded(@calc._cap(0.150023089717, 7)).toEqual(140)
      expectRounded(@calc._cap(0.141128452372, 7)).toEqual(150)
      expectRounded(@calc._cap(0.133229482092, 7)).toEqual(160)
      expectRounded(@calc._cap(0.126167857455, 7)).toEqual(170)
      expectRounded(@calc._cap(0.119817133797, 7)).toEqual(180)
      expectRounded(@calc._cap(0.114075105019, 7)).toEqual(190)
      expectRounded(@calc._cap(0.108858261243, 7)).toEqual(200)
      expectRounded(@calc._cap(0.104097700716, 7)).toEqual(210)
      expectRounded(@calc._cap(0.099736069454, 7)).toEqual(220)
      expectRounded(@calc._cap(0.095725239306, 7)).toEqual(230)
      expectRounded(@calc._cap(0.092024524613, 7)).toEqual(240)
      expectRounded(@calc._cap(0.088599297128, 7)).toEqual(250)
      expectRounded(@calc._cap(0.085419899162, 7)).toEqual(260)
      expectRounded(@calc._cap(0.082460782634, 7)).toEqual(270)
      expectRounded(@calc._cap(0.079699821076, 7)).toEqual(280)
      expectRounded(@calc._cap(0.077117755380, 7)).toEqual(290)
      expectRounded(@calc._cap(0.074697743899, 7)).toEqual(300)
      expectRounded(@calc._cap(0.072424994676, 7)).toEqual(310)
      expectRounded(@calc._cap(0.070286462834, 7)).toEqual(320)
      expectRounded(@calc._cap(0.068270600042, 7)).toEqual(330)
      expectRounded(@calc._cap(0.066367145882, 7)).toEqual(340)
      expectRounded(@calc._cap(0.064566953186, 7)).toEqual(350)
      expectRounded(@calc._cap(0.062861841031, 7)).toEqual(360)
      expectRounded(@calc._cap(0.061244470444, 7)).toEqual(370)
      expectRounded(@calc._cap(0.059708238802, 7)).toEqual(380)
      expectRounded(@calc._cap(0.058247189743, 7)).toEqual(390)
      expectRounded(@calc._cap(0.056855935982, 7)).toEqual(400)
      expectRounded(@calc._cap(0.055529592938, 7)).toEqual(410)
      expectRounded(@calc._cap(0.054263721428, 7)).toEqual(420)
      expectRounded(@calc._cap(0.053054278040, 7)).toEqual(430)
      expectRounded(@calc._cap(0.051897571982, 7)).toEqual(440)
      expectRounded(@calc._cap(0.050790227467, 7)).toEqual(450)
      expectRounded(@calc._cap(0.049729150806, 7)).toEqual(460)
      expectRounded(@calc._cap(0.045893999504, 7)).toEqual(500)

      expectRounded(@calc._cap(1.348286764023, 8)).toEqual(1)
      expectRounded(@calc._cap(0.963932708780, 8)).toEqual(10)
      expectRounded(@calc._cap(0.732058487987, 8)).toEqual(20)
      expectRounded(@calc._cap(0.590107904428, 8)).toEqual(30)
      expectRounded(@calc._cap(0.494266609270, 8)).toEqual(40)
      expectRounded(@calc._cap(0.425207337805, 8)).toEqual(50)
      expectRounded(@calc._cap(0.373080300907, 8)).toEqual(60)
      expectRounded(@calc._cap(0.332338272589, 8)).toEqual(70)
      expectRounded(@calc._cap(0.299618589874, 8)).toEqual(80)
      expectRounded(@calc._cap(0.272764154697, 8)).toEqual(90)
      expectRounded(@calc._cap(0.250327607881, 8)).toEqual(100)
      expectRounded(@calc._cap(0.231301612804, 8)).toEqual(110)
      expectRounded(@calc._cap(0.214963448777, 8)).toEqual(120)
      expectRounded(@calc._cap(0.200781122614, 8)).toEqual(130)
      expectRounded(@calc._cap(0.188354345952, 8)).toEqual(140)
      expectRounded(@calc._cap(0.177376153312, 8)).toEqual(150)
      expectRounded(@calc._cap(0.167607203423, 8)).toEqual(160)
      expectRounded(@calc._cap(0.158858129345, 8)).toEqual(170)
      expectRounded(@calc._cap(0.150977142282, 8)).toEqual(180)
      expectRounded(@calc._cap(0.143841150855, 8)).toEqual(190)
      expectRounded(@calc._cap(0.137349285219, 8)).toEqual(200)
      expectRounded(@calc._cap(0.131418099072, 8)).toEqual(210)
      expectRounded(@calc._cap(0.125977963363, 8)).toEqual(220)
      expectRounded(@calc._cap(0.120970320103, 8)).toEqual(230)
      expectRounded(@calc._cap(0.116345566103, 8)).toEqual(240)
      expectRounded(@calc._cap(0.112061404275, 8)).toEqual(250)
      expectRounded(@calc._cap(0.108081546252, 8)).toEqual(260)
      expectRounded(@calc._cap(0.104374681982, 8)).toEqual(270)
      expectRounded(@calc._cap(0.100913654336, 8)).toEqual(280)
      expectRounded(@calc._cap(0.097674792658, 8)).toEqual(290)
      expectRounded(@calc._cap(0.094637370664, 8)).toEqual(300)
      expectRounded(@calc._cap(0.091783162441, 8)).toEqual(310)
      expectRounded(@calc._cap(0.089096076440, 8)).toEqual(320)
      expectRounded(@calc._cap(0.086561851922, 8)).toEqual(330)
      expectRounded(@calc._cap(0.084167805792, 8)).toEqual(340)
      expectRounded(@calc._cap(0.081902620299, 8)).toEqual(350)
      expectRounded(@calc._cap(0.079756164130, 8)).toEqual(360)
      expectRounded(@calc._cap(0.077719340911, 8)).toEqual(370)
      expectRounded(@calc._cap(0.075783960345, 8)).toEqual(380)
      expectRounded(@calc._cap(0.073942628139, 8)).toEqual(390)
      expectRounded(@calc._cap(0.072188651591, 8)).toEqual(400)
      expectRounded(@calc._cap(0.070515958313, 8)).toEqual(410)
      expectRounded(@calc._cap(0.068919025983, 8)).toEqual(420)
      expectRounded(@calc._cap(0.067392821449, 8)).toEqual(430)
      expectRounded(@calc._cap(0.065932747730, 8)).toEqual(440)
      expectRounded(@calc._cap(0.064534597776, 8)).toEqual(450)
      expectRounded(@calc._cap(0.063194513982, 8)).toEqual(460)
      expectRounded(@calc._cap(0.058348042827, 8)).toEqual(500)

      expectRounded(@calc._cap(1.485676869439, 9)).toEqual(1)
      expectRounded(@calc._cap(1.097738658329, 9)).toEqual(10)
      expectRounded(@calc._cap(0.850873109616, 9)).toEqual(20)
      expectRounded(@calc._cap(0.694655201037, 9)).toEqual(30)
      expectRounded(@calc._cap(0.586901700381, 9)).toEqual(40)
      expectRounded(@calc._cap(0.508088107478, 9)).toEqual(50)
      expectRounded(@calc._cap(0.447935892762, 9)).toEqual(60)
      expectRounded(@calc._cap(0.400518743806, 9)).toEqual(70)
      expectRounded(@calc._cap(0.362179508280, 9)).toEqual(80)
      expectRounded(@calc._cap(0.330539009247, 9)).toEqual(90)
      expectRounded(@calc._cap(0.303982666227, 9)).toEqual(100)
      expectRounded(@calc._cap(0.281376188979, 9)).toEqual(110)
      expectRounded(@calc._cap(0.261899349220, 9)).toEqual(120)
      expectRounded(@calc._cap(0.244944320783, 9)).toEqual(130)
      expectRounded(@calc._cap(0.230051106772, 9)).toEqual(140)
      expectRounded(@calc._cap(0.216865173610, 9)).toEqual(150)
      expectRounded(@calc._cap(0.205108865093, 9)).toEqual(160)
      expectRounded(@calc._cap(0.194561636218, 9)).toEqual(170)
      expectRounded(@calc._cap(0.185046087320, 9)).toEqual(180)
      expectRounded(@calc._cap(0.176417905334, 9)).toEqual(190)
      expectRounded(@calc._cap(0.168558493765, 9)).toEqual(200)
      expectRounded(@calc._cap(0.161369488638, 9)).toEqual(210)
      expectRounded(@calc._cap(0.154768620413, 9)).toEqual(220)
      expectRounded(@calc._cap(0.148686551601, 9)).toEqual(230)
      expectRounded(@calc._cap(0.143064431842, 9)).toEqual(240)
      expectRounded(@calc._cap(0.137851987447, 9)).toEqual(250)
      expectRounded(@calc._cap(0.133006013903, 9)).toEqual(260)
      expectRounded(@calc._cap(0.128489175541, 9)).toEqual(270)
      expectRounded(@calc._cap(0.124269041740, 9)).toEqual(280)
      expectRounded(@calc._cap(0.120317307035, 9)).toEqual(290)
      expectRounded(@calc._cap(0.116609155430, 9)).toEqual(300)
      expectRounded(@calc._cap(0.113122738758, 9)).toEqual(310)
      expectRounded(@calc._cap(0.109838745889, 9)).toEqual(320)
      expectRounded(@calc._cap(0.106740044867, 9)).toEqual(330)
      expectRounded(@calc._cap(0.103811383956, 9)).toEqual(340)
      expectRounded(@calc._cap(0.101039140588, 9)).toEqual(350)
      expectRounded(@calc._cap(0.098411109487, 9)).toEqual(360)
      expectRounded(@calc._cap(0.095916323027, 9)).toEqual(370)
      expectRounded(@calc._cap(0.093544898227, 9)).toEqual(380)
      expectRounded(@calc._cap(0.091287905912, 9)).toEqual(390)
      expectRounded(@calc._cap(0.089137258352, 9)).toEqual(400)
      expectRounded(@calc._cap(0.087085612430, 9)).toEqual(410)
      expectRounded(@calc._cap(0.085126285876, 9)).toEqual(420)
      expectRounded(@calc._cap(0.083253184561, 9)).toEqual(430)
      expectRounded(@calc._cap(0.081460739182, 9)).toEqual(440)
      expectRounded(@calc._cap(0.079743849959, 9)).toEqual(450)
      expectRounded(@calc._cap(0.078097838174, 9)).toEqual(460)
      expectRounded(@calc._cap(0.072141480319, 9)).toEqual(500)

      expectRounded(@calc._cap(1.622691202974, 10)).toEqual(1)
      expectRounded(@calc._cap(1.231755411180, 10)).toEqual(10)
      expectRounded(@calc._cap(0.971655900650, 10)).toEqual(20)
      expectRounded(@calc._cap(0.802251208219, 10)).toEqual(30)
      expectRounded(@calc._cap(0.683146999377, 10)).toEqual(40)
      expectRounded(@calc._cap(0.594836146282, 10)).toEqual(50)
      expectRounded(@calc._cap(0.526743654435, 10)).toEqual(60)
      expectRounded(@calc._cap(0.472639357333, 10)).toEqual(70)
      expectRounded(@calc._cap(0.428614376021, 10)).toEqual(80)
      expectRounded(@calc._cap(0.392092134243, 10)).toEqual(90)
      expectRounded(@calc._cap(0.361305300486, 10)).toEqual(100)
      expectRounded(@calc._cap(0.335001210988, 10)).toEqual(110)
      expectRounded(@calc._cap(0.312267236879, 10)).toEqual(120)
      expectRounded(@calc._cap(0.292422738564, 10)).toEqual(130)
      expectRounded(@calc._cap(0.274949756046, 10)).toEqual(140)
      expectRounded(@calc._cap(0.259447146769, 10)).toEqual(150)
      expectRounded(@calc._cap(0.245599410532, 10)).toEqual(160)
      expectRounded(@calc._cap(0.233154992183, 10)).toEqual(170)
      expectRounded(@calc._cap(0.221910862549, 10)).toEqual(180)
      expectRounded(@calc._cap(0.211701355710, 10)).toEqual(190)
      expectRounded(@calc._cap(0.202389952128, 10)).toEqual(200)
      expectRounded(@calc._cap(0.193863138875, 10)).toEqual(210)
      expectRounded(@calc._cap(0.186025759144, 10)).toEqual(220)
      expectRounded(@calc._cap(0.178797445978, 10)).toEqual(230)
      expectRounded(@calc._cap(0.172109856333, 10)).toEqual(240)
      expectRounded(@calc._cap(0.165904503491, 10)).toEqual(250)
      expectRounded(@calc._cap(0.160131042063, 10)).toEqual(260)
      expectRounded(@calc._cap(0.154745899041, 10)).toEqual(270)
      expectRounded(@calc._cap(0.149711172087, 10)).toEqual(280)
      expectRounded(@calc._cap(0.144993736110, 10)).toEqual(290)
      expectRounded(@calc._cap(0.140564513599, 10)).toEqual(300)
      expectRounded(@calc._cap(0.136397874727, 10)).toEqual(310)
      expectRounded(@calc._cap(0.132471141075, 10)).toEqual(320)
      expectRounded(@calc._cap(0.128764172684, 10)).toEqual(330)
      expectRounded(@calc._cap(0.125259022556, 10)).toEqual(340)
      expectRounded(@calc._cap(0.121939646076, 10)).toEqual(350)
      expectRounded(@calc._cap(0.118791655465, 10)).toEqual(360)
      expectRounded(@calc._cap(0.115802111285, 10)).toEqual(370)
      expectRounded(@calc._cap(0.112959344678, 10)).toEqual(380)
      expectRounded(@calc._cap(0.110252805140, 10)).toEqual(390)
      expectRounded(@calc._cap(0.107672929679, 10)).toEqual(400)
      expectRounded(@calc._cap(0.105211029921, 10)).toEqual(410)
      expectRounded(@calc._cap(0.102859194353, 10)).toEqual(420)
      expectRounded(@calc._cap(0.100610203397, 10)).toEqual(430)
      expectRounded(@calc._cap(0.098457455380, 10)).toEqual(440)
      expectRounded(@calc._cap(0.096394901814, 10)).toEqual(450)
      expectRounded(@calc._cap(0.094416990644, 10)).toEqual(460)
      expectRounded(@calc._cap(0.087255468124, 10)).toEqual(500)

  describe '#_r', ->
    it 'should return the correct value', ->
      expectRounded(@calc._wlr(1, 2)).toEqual(0.8816)
      expectRounded(@calc._wlr(10, 2)).toEqual(0.2355)
      expectRounded(@calc._wlr(20, 2)).toEqual(0.1298)
      expectRounded(@calc._wlr(30, 2)).toEqual(0.0896)
      expectRounded(@calc._wlr(40, 2)).toEqual(0.0684)
      expectRounded(@calc._wlr(50, 2)).toEqual(0.0553)
      expectRounded(@calc._wlr(60, 2)).toEqual(0.0464)
      expectRounded(@calc._wlr(70, 2)).toEqual(0.0400)
      expectRounded(@calc._wlr(80, 2)).toEqual(0.0351)
      expectRounded(@calc._wlr(90, 2)).toEqual(0.0313)
      expectRounded(@calc._wlr(100, 2)).toEqual(0.0283)
      expectRounded(@calc._wlr(110, 2)).toEqual(0.0258)
      expectRounded(@calc._wlr(120, 2)).toEqual(0.0237)
      expectRounded(@calc._wlr(130, 2)).toEqual(0.0219)
      expectRounded(@calc._wlr(140, 2)).toEqual(0.0203)
      expectRounded(@calc._wlr(150, 2)).toEqual(0.0190)
      expectRounded(@calc._wlr(160, 2)).toEqual(0.0178)
      expectRounded(@calc._wlr(170, 2)).toEqual(0.0168)
      expectRounded(@calc._wlr(180, 2)).toEqual(0.0159)
      expectRounded(@calc._wlr(190, 2)).toEqual(0.0150)
      expectRounded(@calc._wlr(200, 2)).toEqual(0.0143)
      expectRounded(@calc._wlr(210, 2)).toEqual(0.0136)
      expectRounded(@calc._wlr(220, 2)).toEqual(0.0130)
      expectRounded(@calc._wlr(230, 2)).toEqual(0.0125)
      expectRounded(@calc._wlr(240, 2)).toEqual(0.0119)
      expectRounded(@calc._wlr(250, 2)).toEqual(0.0115)
      expectRounded(@calc._wlr(260, 2)).toEqual(0.0110)
      expectRounded(@calc._wlr(270, 2)).toEqual(0.0106)
      expectRounded(@calc._wlr(280, 2)).toEqual(0.0102)
      expectRounded(@calc._wlr(290, 2)).toEqual(0.0099)
      expectRounded(@calc._wlr(300, 2)).toEqual(0.0096)
      expectRounded(@calc._wlr(310, 2)).toEqual(0.0093)
      expectRounded(@calc._wlr(320, 2)).toEqual(0.0090)
      expectRounded(@calc._wlr(330, 2)).toEqual(0.0087)
      expectRounded(@calc._wlr(340, 2)).toEqual(0.0084)
      expectRounded(@calc._wlr(350, 2)).toEqual(0.0082)
      expectRounded(@calc._wlr(360, 2)).toEqual(0.0080)
      expectRounded(@calc._wlr(370, 2)).toEqual(0.0078)
      expectRounded(@calc._wlr(380, 2)).toEqual(0.0076)
      expectRounded(@calc._wlr(390, 2)).toEqual(0.0074)
      expectRounded(@calc._wlr(400, 2)).toEqual(0.0072)
      expectRounded(@calc._wlr(410, 2)).toEqual(0.0070)
      expectRounded(@calc._wlr(420, 2)).toEqual(0.0068)
      expectRounded(@calc._wlr(430, 2)).toEqual(0.0067)
      expectRounded(@calc._wlr(440, 2)).toEqual(0.0065)
      expectRounded(@calc._wlr(450, 2)).toEqual(0.0064)
      expectRounded(@calc._wlr(460, 2)).toEqual(0.0063)
      expectRounded(@calc._wlr(500, 2)).toEqual(0.0058)

      expectRounded(@calc._wlr(1, 3)).toEqual(1.2645)
      expectRounded(@calc._wlr(10, 3)).toEqual(0.4156)
      expectRounded(@calc._wlr(20, 3)).toEqual(0.2381)
      expectRounded(@calc._wlr(30, 3)).toEqual(0.1668)
      expectRounded(@calc._wlr(40, 3)).toEqual(0.1284)
      expectRounded(@calc._wlr(50, 3)).toEqual(0.1043)
      expectRounded(@calc._wlr(60, 3)).toEqual(0.0879)
      expectRounded(@calc._wlr(70, 3)).toEqual(0.0759)
      expectRounded(@calc._wlr(80, 3)).toEqual(0.0668)
      expectRounded(@calc._wlr(90, 3)).toEqual(0.0597)
      expectRounded(@calc._wlr(100, 3)).toEqual(0.0539)
      expectRounded(@calc._wlr(110, 3)).toEqual(0.0491)
      expectRounded(@calc._wlr(120, 3)).toEqual(0.0452)
      expectRounded(@calc._wlr(130, 3)).toEqual(0.0418)
      expectRounded(@calc._wlr(140, 3)).toEqual(0.0389)
      expectRounded(@calc._wlr(150, 3)).toEqual(0.0363)
      expectRounded(@calc._wlr(160, 3)).toEqual(0.0341)
      expectRounded(@calc._wlr(170, 3)).toEqual(0.0321)
      expectRounded(@calc._wlr(180, 3)).toEqual(0.0304)
      expectRounded(@calc._wlr(190, 3)).toEqual(0.0288)
      expectRounded(@calc._wlr(200, 3)).toEqual(0.0274)
      expectRounded(@calc._wlr(210, 3)).toEqual(0.0261)
      expectRounded(@calc._wlr(220, 3)).toEqual(0.0249)
      expectRounded(@calc._wlr(230, 3)).toEqual(0.0239)
      expectRounded(@calc._wlr(240, 3)).toEqual(0.0229)
      expectRounded(@calc._wlr(250, 3)).toEqual(0.0220)
      expectRounded(@calc._wlr(260, 3)).toEqual(0.0212)
      expectRounded(@calc._wlr(270, 3)).toEqual(0.0204)
      expectRounded(@calc._wlr(280, 3)).toEqual(0.0197)
      expectRounded(@calc._wlr(290, 3)).toEqual(0.0190)
      expectRounded(@calc._wlr(300, 3)).toEqual(0.0184)
      expectRounded(@calc._wlr(310, 3)).toEqual(0.0178)
      expectRounded(@calc._wlr(320, 3)).toEqual(0.0172)
      expectRounded(@calc._wlr(330, 3)).toEqual(0.0167)
      expectRounded(@calc._wlr(340, 3)).toEqual(0.0162)
      expectRounded(@calc._wlr(350, 3)).toEqual(0.0158)
      expectRounded(@calc._wlr(360, 3)).toEqual(0.0153)
      expectRounded(@calc._wlr(370, 3)).toEqual(0.0149)
      expectRounded(@calc._wlr(380, 3)).toEqual(0.0145)
      expectRounded(@calc._wlr(390, 3)).toEqual(0.0142)
      expectRounded(@calc._wlr(400, 3)).toEqual(0.0138)
      expectRounded(@calc._wlr(410, 3)).toEqual(0.0135)
      expectRounded(@calc._wlr(420, 3)).toEqual(0.0132)
      expectRounded(@calc._wlr(430, 3)).toEqual(0.0129)
      expectRounded(@calc._wlr(440, 3)).toEqual(0.0126)
      expectRounded(@calc._wlr(450, 3)).toEqual(0.0123)
      expectRounded(@calc._wlr(460, 3)).toEqual(0.0120)
      expectRounded(@calc._wlr(500, 3)).toEqual(0.0111)

      expectRounded(@calc._wlr(1, 4)).toEqual(1.6410)
      expectRounded(@calc._wlr(10, 4)).toEqual(0.6246)
      expectRounded(@calc._wlr(20, 4)).toEqual(0.3700)
      expectRounded(@calc._wlr(30, 4)).toEqual(0.2628)
      expectRounded(@calc._wlr(40, 4)).toEqual(0.2038)
      expectRounded(@calc._wlr(50, 4)).toEqual(0.1664)
      expectRounded(@calc._wlr(60, 4)).toEqual(0.1406)
      expectRounded(@calc._wlr(70, 4)).toEqual(0.1218)
      expectRounded(@calc._wlr(80, 4)).toEqual(0.1074)
      expectRounded(@calc._wlr(90, 4)).toEqual(0.0960)
      expectRounded(@calc._wlr(100, 4)).toEqual(0.0868)
      expectRounded(@calc._wlr(110, 4)).toEqual(0.0792)
      expectRounded(@calc._wlr(120, 4)).toEqual(0.0729)
      expectRounded(@calc._wlr(130, 4)).toEqual(0.0675)
      expectRounded(@calc._wlr(140, 4)).toEqual(0.0628)
      expectRounded(@calc._wlr(150, 4)).toEqual(0.0587)
      expectRounded(@calc._wlr(160, 4)).toEqual(0.0552)
      expectRounded(@calc._wlr(170, 4)).toEqual(0.0520)
      expectRounded(@calc._wlr(180, 4)).toEqual(0.0492)
      expectRounded(@calc._wlr(190, 4)).toEqual(0.0467)
      expectRounded(@calc._wlr(200, 4)).toEqual(0.0444)
      expectRounded(@calc._wlr(210, 4)).toEqual(0.0423)
      expectRounded(@calc._wlr(220, 4)).toEqual(0.0404)
      expectRounded(@calc._wlr(230, 4)).toEqual(0.0387)
      expectRounded(@calc._wlr(240, 4)).toEqual(0.0371)
      expectRounded(@calc._wlr(250, 4)).toEqual(0.0357)
      expectRounded(@calc._wlr(260, 4)).toEqual(0.0343)
      expectRounded(@calc._wlr(270, 4)).toEqual(0.0331)
      expectRounded(@calc._wlr(280, 4)).toEqual(0.0319)
      expectRounded(@calc._wlr(290, 4)).toEqual(0.0308)
      expectRounded(@calc._wlr(300, 4)).toEqual(0.0298)
      expectRounded(@calc._wlr(310, 4)).toEqual(0.0289)
      expectRounded(@calc._wlr(320, 4)).toEqual(0.0280)
      expectRounded(@calc._wlr(330, 4)).toEqual(0.0271)
      expectRounded(@calc._wlr(340, 4)).toEqual(0.0263)
      expectRounded(@calc._wlr(350, 4)).toEqual(0.0256)
      expectRounded(@calc._wlr(360, 4)).toEqual(0.0249)
      expectRounded(@calc._wlr(370, 4)).toEqual(0.0242)
      expectRounded(@calc._wlr(380, 4)).toEqual(0.0236)
      expectRounded(@calc._wlr(390, 4)).toEqual(0.0230)
      expectRounded(@calc._wlr(400, 4)).toEqual(0.0224)
      expectRounded(@calc._wlr(410, 4)).toEqual(0.0219)
      expectRounded(@calc._wlr(420, 4)).toEqual(0.0214)
      expectRounded(@calc._wlr(430, 4)).toEqual(0.0209)
      expectRounded(@calc._wlr(440, 4)).toEqual(0.0204)
      expectRounded(@calc._wlr(450, 4)).toEqual(0.0200)
      expectRounded(@calc._wlr(460, 4)).toEqual(0.0195)
      expectRounded(@calc._wlr(500, 4)).toEqual(0.0180)

      expectRounded(@calc._wlr(1, 5)).toEqual(2.0255)
      expectRounded(@calc._wlr(10, 5)).toEqual(0.8767)
      expectRounded(@calc._wlr(20, 5)).toEqual(0.5378)
      expectRounded(@calc._wlr(30, 5)).toEqual(0.3879)
      expectRounded(@calc._wlr(40, 5)).toEqual(0.3033)
      expectRounded(@calc._wlr(50, 5)).toEqual(0.2490)
      expectRounded(@calc._wlr(60, 5)).toEqual(0.2112)
      expectRounded(@calc._wlr(70, 5)).toEqual(0.1834)
      expectRounded(@calc._wlr(80, 5)).toEqual(0.1620)
      expectRounded(@calc._wlr(90, 5)).toEqual(0.1451)
      expectRounded(@calc._wlr(100, 5)).toEqual(0.1314)
      expectRounded(@calc._wlr(110, 5)).toEqual(0.1201)
      expectRounded(@calc._wlr(120, 5)).toEqual(0.1105)
      expectRounded(@calc._wlr(130, 5)).toEqual(0.1024)
      expectRounded(@calc._wlr(140, 5)).toEqual(0.0954)
      expectRounded(@calc._wlr(150, 5)).toEqual(0.0893)
      expectRounded(@calc._wlr(160, 5)).toEqual(0.0839)
      expectRounded(@calc._wlr(170, 5)).toEqual(0.0791)
      expectRounded(@calc._wlr(180, 5)).toEqual(0.0749)
      expectRounded(@calc._wlr(190, 5)).toEqual(0.0710)
      expectRounded(@calc._wlr(200, 5)).toEqual(0.0676)
      expectRounded(@calc._wlr(210, 5)).toEqual(0.0645)
      expectRounded(@calc._wlr(220, 5)).toEqual(0.0616)
      expectRounded(@calc._wlr(230, 5)).toEqual(0.0590)
      expectRounded(@calc._wlr(240, 5)).toEqual(0.0566)
      expectRounded(@calc._wlr(250, 5)).toEqual(0.0544)
      expectRounded(@calc._wlr(260, 5)).toEqual(0.0523)
      expectRounded(@calc._wlr(270, 5)).toEqual(0.0504)
      expectRounded(@calc._wlr(280, 5)).toEqual(0.0487)
      expectRounded(@calc._wlr(290, 5)).toEqual(0.0470)
      expectRounded(@calc._wlr(300, 5)).toEqual(0.0455)
      expectRounded(@calc._wlr(310, 5)).toEqual(0.0440)
      expectRounded(@calc._wlr(320, 5)).toEqual(0.0427)
      expectRounded(@calc._wlr(330, 5)).toEqual(0.0414)
      expectRounded(@calc._wlr(340, 5)).toEqual(0.0402)
      expectRounded(@calc._wlr(350, 5)).toEqual(0.0391)
      expectRounded(@calc._wlr(360, 5)).toEqual(0.0380)
      expectRounded(@calc._wlr(370, 5)).toEqual(0.0370)
      expectRounded(@calc._wlr(380, 5)).toEqual(0.0361)
      expectRounded(@calc._wlr(390, 5)).toEqual(0.0351)
      expectRounded(@calc._wlr(400, 5)).toEqual(0.0343)
      expectRounded(@calc._wlr(410, 5)).toEqual(0.0335)
      expectRounded(@calc._wlr(420, 5)).toEqual(0.0327)
      expectRounded(@calc._wlr(430, 5)).toEqual(0.0319)
      expectRounded(@calc._wlr(440, 5)).toEqual(0.0312)
      expectRounded(@calc._wlr(450, 5)).toEqual(0.0305)
      expectRounded(@calc._wlr(460, 5)).toEqual(0.0299)
      expectRounded(@calc._wlr(500, 5)).toEqual(0.0275)

      expectRounded(@calc._wlr(1, 6)).toEqual(2.3976)
      expectRounded(@calc._wlr(10, 6)).toEqual(1.1315)
      expectRounded(@calc._wlr(20, 6)).toEqual(0.7131)
      expectRounded(@calc._wlr(30, 6)).toEqual(0.5206)
      expectRounded(@calc._wlr(40, 6)).toEqual(0.4099)
      expectRounded(@calc._wlr(50, 6)).toEqual(0.3381)
      expectRounded(@calc._wlr(60, 6)).toEqual(0.2876)
      expectRounded(@calc._wlr(70, 6)).toEqual(0.2503)
      expectRounded(@calc._wlr(80, 6)).toEqual(0.2215)
      expectRounded(@calc._wlr(90, 6)).toEqual(0.1987)
      expectRounded(@calc._wlr(100, 6)).toEqual(0.1801)
      expectRounded(@calc._wlr(110, 6)).toEqual(0.1648)
      expectRounded(@calc._wlr(120, 6)).toEqual(0.1518)
      expectRounded(@calc._wlr(130, 6)).toEqual(0.1407)
      expectRounded(@calc._wlr(140, 6)).toEqual(0.1311)
      expectRounded(@calc._wlr(150, 6)).toEqual(0.1228)
      expectRounded(@calc._wlr(160, 6)).toEqual(0.1154)
      expectRounded(@calc._wlr(170, 6)).toEqual(0.1089)
      expectRounded(@calc._wlr(180, 6)).toEqual(0.1031)
      expectRounded(@calc._wlr(190, 6)).toEqual(0.0979)
      expectRounded(@calc._wlr(200, 6)).toEqual(0.0931)
      expectRounded(@calc._wlr(210, 6)).toEqual(0.0888)
      expectRounded(@calc._wlr(220, 6)).toEqual(0.0849)
      expectRounded(@calc._wlr(230, 6)).toEqual(0.0814)
      expectRounded(@calc._wlr(240, 6)).toEqual(0.0781)
      expectRounded(@calc._wlr(250, 6)).toEqual(0.0750)
      expectRounded(@calc._wlr(260, 6)).toEqual(0.0722)
      expectRounded(@calc._wlr(270, 6)).toEqual(0.0696)
      expectRounded(@calc._wlr(280, 6)).toEqual(0.0672)
      expectRounded(@calc._wlr(290, 6)).toEqual(0.0649)
      expectRounded(@calc._wlr(300, 6)).toEqual(0.0628)
      expectRounded(@calc._wlr(310, 6)).toEqual(0.0608)
      expectRounded(@calc._wlr(320, 6)).toEqual(0.0590)
      expectRounded(@calc._wlr(330, 6)).toEqual(0.0572)
      expectRounded(@calc._wlr(340, 6)).toEqual(0.0556)
      expectRounded(@calc._wlr(350, 6)).toEqual(0.0540)
      expectRounded(@calc._wlr(360, 6)).toEqual(0.0525)
      expectRounded(@calc._wlr(370, 6)).toEqual(0.0511)
      expectRounded(@calc._wlr(380, 6)).toEqual(0.0498)
      expectRounded(@calc._wlr(390, 6)).toEqual(0.0486)
      expectRounded(@calc._wlr(400, 6)).toEqual(0.0474)
      expectRounded(@calc._wlr(410, 6)).toEqual(0.0462)
      expectRounded(@calc._wlr(420, 6)).toEqual(0.0452)
      expectRounded(@calc._wlr(430, 6)).toEqual(0.0441)
      expectRounded(@calc._wlr(440, 6)).toEqual(0.0431)
      expectRounded(@calc._wlr(450, 6)).toEqual(0.0422)
      expectRounded(@calc._wlr(460, 6)).toEqual(0.0413)
      expectRounded(@calc._wlr(500, 6)).toEqual(0.0380)

      expectRounded(@calc._wlr(1, 7)).toEqual(1.2103)
      expectRounded(@calc._wlr(10, 7)).toEqual(0.8304)
      expectRounded(@calc._wlr(20, 7)).toEqual(0.6156)
      expectRounded(@calc._wlr(30, 7)).toEqual(0.4891)
      expectRounded(@calc._wlr(40, 7)).toEqual(0.4057)
      expectRounded(@calc._wlr(50, 7)).toEqual(0.3467)
      expectRounded(@calc._wlr(60, 7)).toEqual(0.3026)
      expectRounded(@calc._wlr(70, 7)).toEqual(0.2685)
      expectRounded(@calc._wlr(80, 7)).toEqual(0.2413)
      expectRounded(@calc._wlr(90, 7)).toEqual(0.2191)
      expectRounded(@calc._wlr(100, 7)).toEqual(0.2006)
      expectRounded(@calc._wlr(110, 7)).toEqual(0.1850)
      expectRounded(@calc._wlr(120, 7)).toEqual(0.1717)
      expectRounded(@calc._wlr(130, 7)).toEqual(0.1601)
      expectRounded(@calc._wlr(140, 7)).toEqual(0.1500)
      expectRounded(@calc._wlr(150, 7)).toEqual(0.1411)
      expectRounded(@calc._wlr(160, 7)).toEqual(0.1332)
      expectRounded(@calc._wlr(170, 7)).toEqual(0.1262)
      expectRounded(@calc._wlr(180, 7)).toEqual(0.1198)
      expectRounded(@calc._wlr(190, 7)).toEqual(0.1141)
      expectRounded(@calc._wlr(200, 7)).toEqual(0.1089)
      expectRounded(@calc._wlr(210, 7)).toEqual(0.1041)
      expectRounded(@calc._wlr(220, 7)).toEqual(0.0997)
      expectRounded(@calc._wlr(230, 7)).toEqual(0.0957)
      expectRounded(@calc._wlr(240, 7)).toEqual(0.0920)
      expectRounded(@calc._wlr(250, 7)).toEqual(0.0886)
      expectRounded(@calc._wlr(260, 7)).toEqual(0.0854)
      expectRounded(@calc._wlr(270, 7)).toEqual(0.0825)
      expectRounded(@calc._wlr(280, 7)).toEqual(0.0797)
      expectRounded(@calc._wlr(290, 7)).toEqual(0.0771)
      expectRounded(@calc._wlr(300, 7)).toEqual(0.0747)
      expectRounded(@calc._wlr(310, 7)).toEqual(0.0724)
      expectRounded(@calc._wlr(320, 7)).toEqual(0.0703)
      expectRounded(@calc._wlr(330, 7)).toEqual(0.0683)
      expectRounded(@calc._wlr(340, 7)).toEqual(0.0664)
      expectRounded(@calc._wlr(350, 7)).toEqual(0.0646)
      expectRounded(@calc._wlr(360, 7)).toEqual(0.0629)
      expectRounded(@calc._wlr(370, 7)).toEqual(0.0612)
      expectRounded(@calc._wlr(380, 7)).toEqual(0.0597)
      expectRounded(@calc._wlr(390, 7)).toEqual(0.0582)
      expectRounded(@calc._wlr(400, 7)).toEqual(0.0569)
      expectRounded(@calc._wlr(410, 7)).toEqual(0.0555)
      expectRounded(@calc._wlr(420, 7)).toEqual(0.0543)
      expectRounded(@calc._wlr(430, 7)).toEqual(0.0531)
      expectRounded(@calc._wlr(440, 7)).toEqual(0.0519)
      expectRounded(@calc._wlr(450, 7)).toEqual(0.0508)
      expectRounded(@calc._wlr(460, 7)).toEqual(0.0497)
      expectRounded(@calc._wlr(500, 7)).toEqual(0.0459)

      expectRounded(@calc._wlr(1, 8)).toEqual(1.3483)
      expectRounded(@calc._wlr(10, 8)).toEqual(0.9639)
      expectRounded(@calc._wlr(20, 8)).toEqual(0.7321)
      expectRounded(@calc._wlr(30, 8)).toEqual(0.5901)
      expectRounded(@calc._wlr(40, 8)).toEqual(0.4943)
      expectRounded(@calc._wlr(50, 8)).toEqual(0.4252)
      expectRounded(@calc._wlr(60, 8)).toEqual(0.3731)
      expectRounded(@calc._wlr(70, 8)).toEqual(0.3323)
      expectRounded(@calc._wlr(80, 8)).toEqual(0.2996)
      expectRounded(@calc._wlr(90, 8)).toEqual(0.2728)
      expectRounded(@calc._wlr(100, 8)).toEqual(0.2503)
      expectRounded(@calc._wlr(110, 8)).toEqual(0.2313)
      expectRounded(@calc._wlr(120, 8)).toEqual(0.2150)
      expectRounded(@calc._wlr(130, 8)).toEqual(0.2008)
      expectRounded(@calc._wlr(140, 8)).toEqual(0.1884)
      expectRounded(@calc._wlr(150, 8)).toEqual(0.1774)
      expectRounded(@calc._wlr(160, 8)).toEqual(0.1676)
      expectRounded(@calc._wlr(170, 8)).toEqual(0.1589)
      expectRounded(@calc._wlr(180, 8)).toEqual(0.1510)
      expectRounded(@calc._wlr(190, 8)).toEqual(0.1438)
      expectRounded(@calc._wlr(200, 8)).toEqual(0.1373)
      expectRounded(@calc._wlr(210, 8)).toEqual(0.1314)
      expectRounded(@calc._wlr(220, 8)).toEqual(0.1260)
      expectRounded(@calc._wlr(230, 8)).toEqual(0.1210)
      expectRounded(@calc._wlr(240, 8)).toEqual(0.1163)
      expectRounded(@calc._wlr(250, 8)).toEqual(0.1121)
      expectRounded(@calc._wlr(260, 8)).toEqual(0.1081)
      expectRounded(@calc._wlr(270, 8)).toEqual(0.1044)
      expectRounded(@calc._wlr(280, 8)).toEqual(0.1009)
      expectRounded(@calc._wlr(290, 8)).toEqual(0.0977)
      expectRounded(@calc._wlr(300, 8)).toEqual(0.0946)
      expectRounded(@calc._wlr(310, 8)).toEqual(0.0918)
      expectRounded(@calc._wlr(320, 8)).toEqual(0.0891)
      expectRounded(@calc._wlr(330, 8)).toEqual(0.0866)
      expectRounded(@calc._wlr(340, 8)).toEqual(0.0842)
      expectRounded(@calc._wlr(350, 8)).toEqual(0.0819)
      expectRounded(@calc._wlr(360, 8)).toEqual(0.0798)
      expectRounded(@calc._wlr(370, 8)).toEqual(0.0777)
      expectRounded(@calc._wlr(380, 8)).toEqual(0.0758)
      expectRounded(@calc._wlr(390, 8)).toEqual(0.0739)
      expectRounded(@calc._wlr(400, 8)).toEqual(0.0722)
      expectRounded(@calc._wlr(410, 8)).toEqual(0.0705)
      expectRounded(@calc._wlr(420, 8)).toEqual(0.0689)
      expectRounded(@calc._wlr(430, 8)).toEqual(0.0674)
      expectRounded(@calc._wlr(440, 8)).toEqual(0.0659)
      expectRounded(@calc._wlr(450, 8)).toEqual(0.0645)
      expectRounded(@calc._wlr(460, 8)).toEqual(0.0632)
      expectRounded(@calc._wlr(500, 8)).toEqual(0.0583)

      expectRounded(@calc._wlr(1, 9)).toEqual(1.4857)
      expectRounded(@calc._wlr(10, 9)).toEqual(1.0977)
      expectRounded(@calc._wlr(20, 9)).toEqual(0.8509)
      expectRounded(@calc._wlr(30, 9)).toEqual(0.6947)
      expectRounded(@calc._wlr(40, 9)).toEqual(0.5869)
      expectRounded(@calc._wlr(50, 9)).toEqual(0.5081)
      expectRounded(@calc._wlr(60, 9)).toEqual(0.4479)
      expectRounded(@calc._wlr(70, 9)).toEqual(0.4005)
      expectRounded(@calc._wlr(80, 9)).toEqual(0.3622)
      expectRounded(@calc._wlr(90, 9)).toEqual(0.3305)
      expectRounded(@calc._wlr(100, 9)).toEqual(0.3040)
      expectRounded(@calc._wlr(110, 9)).toEqual(0.2814)
      expectRounded(@calc._wlr(120, 9)).toEqual(0.2619)
      expectRounded(@calc._wlr(130, 9)).toEqual(0.2449)
      expectRounded(@calc._wlr(140, 9)).toEqual(0.2301)
      expectRounded(@calc._wlr(150, 9)).toEqual(0.2169)
      expectRounded(@calc._wlr(160, 9)).toEqual(0.2051)
      expectRounded(@calc._wlr(170, 9)).toEqual(0.1946)
      expectRounded(@calc._wlr(180, 9)).toEqual(0.1850)
      expectRounded(@calc._wlr(190, 9)).toEqual(0.1764)
      expectRounded(@calc._wlr(200, 9)).toEqual(0.1686)
      expectRounded(@calc._wlr(210, 9)).toEqual(0.1614)
      expectRounded(@calc._wlr(220, 9)).toEqual(0.1548)
      expectRounded(@calc._wlr(230, 9)).toEqual(0.1487)
      expectRounded(@calc._wlr(240, 9)).toEqual(0.1431)
      expectRounded(@calc._wlr(250, 9)).toEqual(0.1379)
      expectRounded(@calc._wlr(260, 9)).toEqual(0.1330)
      expectRounded(@calc._wlr(270, 9)).toEqual(0.1285)
      expectRounded(@calc._wlr(280, 9)).toEqual(0.1243)
      expectRounded(@calc._wlr(290, 9)).toEqual(0.1203)
      expectRounded(@calc._wlr(300, 9)).toEqual(0.1166)
      expectRounded(@calc._wlr(310, 9)).toEqual(0.1131)
      expectRounded(@calc._wlr(320, 9)).toEqual(0.1098)
      expectRounded(@calc._wlr(330, 9)).toEqual(0.1067)
      expectRounded(@calc._wlr(340, 9)).toEqual(0.1038)
      expectRounded(@calc._wlr(350, 9)).toEqual(0.1010)
      expectRounded(@calc._wlr(360, 9)).toEqual(0.0984)
      expectRounded(@calc._wlr(370, 9)).toEqual(0.0959)
      expectRounded(@calc._wlr(380, 9)).toEqual(0.0935)
      expectRounded(@calc._wlr(390, 9)).toEqual(0.0913)
      expectRounded(@calc._wlr(400, 9)).toEqual(0.0891)
      expectRounded(@calc._wlr(410, 9)).toEqual(0.0871)
      expectRounded(@calc._wlr(420, 9)).toEqual(0.0851)
      expectRounded(@calc._wlr(430, 9)).toEqual(0.0833)
      expectRounded(@calc._wlr(440, 9)).toEqual(0.0815)
      expectRounded(@calc._wlr(450, 9)).toEqual(0.0797)
      expectRounded(@calc._wlr(460, 9)).toEqual(0.0781)
      expectRounded(@calc._wlr(500, 9)).toEqual(0.0721)

      expectRounded(@calc._wlr(1, 10)).toEqual(1.6227)
      expectRounded(@calc._wlr(10, 10)).toEqual(1.2318)
      expectRounded(@calc._wlr(20, 10)).toEqual(0.9717)
      expectRounded(@calc._wlr(30, 10)).toEqual(0.8023)
      expectRounded(@calc._wlr(40, 10)).toEqual(0.6831)
      expectRounded(@calc._wlr(50, 10)).toEqual(0.5948)
      expectRounded(@calc._wlr(60, 10)).toEqual(0.5267)
      expectRounded(@calc._wlr(70, 10)).toEqual(0.4726)
      expectRounded(@calc._wlr(80, 10)).toEqual(0.4286)
      expectRounded(@calc._wlr(90, 10)).toEqual(0.3921)
      expectRounded(@calc._wlr(100, 10)).toEqual(0.3613)
      expectRounded(@calc._wlr(110, 10)).toEqual(0.3350)
      expectRounded(@calc._wlr(120, 10)).toEqual(0.3123)
      expectRounded(@calc._wlr(130, 10)).toEqual(0.2924)
      expectRounded(@calc._wlr(140, 10)).toEqual(0.2749)
      expectRounded(@calc._wlr(150, 10)).toEqual(0.2594)
      expectRounded(@calc._wlr(160, 10)).toEqual(0.2456)
      expectRounded(@calc._wlr(170, 10)).toEqual(0.2332)
      expectRounded(@calc._wlr(180, 10)).toEqual(0.2219)
      expectRounded(@calc._wlr(190, 10)).toEqual(0.2117)
      expectRounded(@calc._wlr(200, 10)).toEqual(0.2024)
      expectRounded(@calc._wlr(210, 10)).toEqual(0.1939)
      expectRounded(@calc._wlr(220, 10)).toEqual(0.1860)
      expectRounded(@calc._wlr(230, 10)).toEqual(0.1788)
      expectRounded(@calc._wlr(240, 10)).toEqual(0.1721)
      expectRounded(@calc._wlr(250, 10)).toEqual(0.1659)
      expectRounded(@calc._wlr(260, 10)).toEqual(0.1601)
      expectRounded(@calc._wlr(270, 10)).toEqual(0.1547)
      expectRounded(@calc._wlr(280, 10)).toEqual(0.1497)
      expectRounded(@calc._wlr(290, 10)).toEqual(0.1450)
      expectRounded(@calc._wlr(300, 10)).toEqual(0.1406)
      expectRounded(@calc._wlr(310, 10)).toEqual(0.1364)
      expectRounded(@calc._wlr(320, 10)).toEqual(0.1325)
      expectRounded(@calc._wlr(330, 10)).toEqual(0.1288)
      expectRounded(@calc._wlr(340, 10)).toEqual(0.1253)
      expectRounded(@calc._wlr(350, 10)).toEqual(0.1219)
      expectRounded(@calc._wlr(360, 10)).toEqual(0.1188)
      expectRounded(@calc._wlr(370, 10)).toEqual(0.1158)
      expectRounded(@calc._wlr(380, 10)).toEqual(0.1130)
      expectRounded(@calc._wlr(390, 10)).toEqual(0.1103)
      expectRounded(@calc._wlr(400, 10)).toEqual(0.1077)
      expectRounded(@calc._wlr(410, 10)).toEqual(0.1052)
      expectRounded(@calc._wlr(420, 10)).toEqual(0.1029)
      expectRounded(@calc._wlr(430, 10)).toEqual(0.1006)
      expectRounded(@calc._wlr(440, 10)).toEqual(0.0985)
      expectRounded(@calc._wlr(450, 10)).toEqual(0.0964)
      expectRounded(@calc._wlr(460, 10)).toEqual(0.0944)
      expectRounded(@calc._wlr(500, 10)).toEqual(0.0873)

  describe '#_lowerBound', ->
    it 'should return the correct value', ->
      expectRounded(@calc.lowerBound_value(1)).toEqual(0.2589)
      expectRounded(@calc.lowerBound_value(10)).toEqual(0.1685)
      expectRounded(@calc.lowerBound_value(20)).toEqual(0.1481)
      expectRounded(@calc.lowerBound_value(30)).toEqual(0.1373)
      expectRounded(@calc.lowerBound_value(40)).toEqual(0.1301)
      expectRounded(@calc.lowerBound_value(50)).toEqual(0.1248)
      expectRounded(@calc.lowerBound_value(60)).toEqual(0.1207)
      expectRounded(@calc.lowerBound_value(70)).toEqual(0.1172)
      expectRounded(@calc.lowerBound_value(80)).toEqual(0.1144)
      expectRounded(@calc.lowerBound_value(90)).toEqual(0.1119)
      expectRounded(@calc.lowerBound_value(100)).toEqual(0.1097)
      expectRounded(@calc.lowerBound_value(110)).toEqual(0.1078)
      expectRounded(@calc.lowerBound_value(120)).toEqual(0.1060)
      expectRounded(@calc.lowerBound_value(130)).toEqual(0.1045)
      expectRounded(@calc.lowerBound_value(140)).toEqual(0.1030)
      expectRounded(@calc.lowerBound_value(150)).toEqual(0.1017)
      expectRounded(@calc.lowerBound_value(160)).toEqual(0.1005)
      expectRounded(@calc.lowerBound_value(170)).toEqual(0.0994)
      expectRounded(@calc.lowerBound_value(180)).toEqual(0.0983)
      expectRounded(@calc.lowerBound_value(190)).toEqual(0.0973)
      expectRounded(@calc.lowerBound_value(200)).toEqual(0.0964)
      expectRounded(@calc.lowerBound_value(210)).toEqual(0.0955)
      expectRounded(@calc.lowerBound_value(220)).toEqual(0.0947)
      expectRounded(@calc.lowerBound_value(230)).toEqual(0.0939)
      expectRounded(@calc.lowerBound_value(240)).toEqual(0.0932)
      expectRounded(@calc.lowerBound_value(250)).toEqual(0.0925)
      expectRounded(@calc.lowerBound_value(260)).toEqual(0.0918)
      expectRounded(@calc.lowerBound_value(270)).toEqual(0.0912)
      expectRounded(@calc.lowerBound_value(280)).toEqual(0.0905)
      expectRounded(@calc.lowerBound_value(290)).toEqual(0.0899)
      expectRounded(@calc.lowerBound_value(300)).toEqual(0.0894)
      expectRounded(@calc.lowerBound_value(310)).toEqual(0.0888)
      expectRounded(@calc.lowerBound_value(320)).toEqual(0.0883)
      expectRounded(@calc.lowerBound_value(330)).toEqual(0.0878)
      expectRounded(@calc.lowerBound_value(340)).toEqual(0.0873)
      expectRounded(@calc.lowerBound_value(350)).toEqual(0.0868)
      expectRounded(@calc.lowerBound_value(360)).toEqual(0.0864)
      expectRounded(@calc.lowerBound_value(370)).toEqual(0.0860)
      expectRounded(@calc.lowerBound_value(380)).toEqual(0.0855)
      expectRounded(@calc.lowerBound_value(390)).toEqual(0.0851)
      expectRounded(@calc.lowerBound_value(400)).toEqual(0.0847)
      expectRounded(@calc.lowerBound_value(410)).toEqual(0.0843)
      expectRounded(@calc.lowerBound_value(420)).toEqual(0.0839)
      expectRounded(@calc.lowerBound_value(430)).toEqual(0.0836)
      expectRounded(@calc.lowerBound_value(440)).toEqual(0.0832)
      expectRounded(@calc.lowerBound_value(450)).toEqual(0.0829)
      expectRounded(@calc.lowerBound_value(460)).toEqual(0.0825)
      expectRounded(@calc.lowerBound_value(500)).toEqual(0.0813)

  describe '#_upperBound', ->
    it 'should return the correct value', ->
      expectRounded(@calc.upperBound_value(1)).toEqual(0.2532)
      expectRounded(@calc.upperBound_value(10)).toEqual(0.2001)
      expectRounded(@calc.upperBound_value(20)).toEqual(0.1864)
      expectRounded(@calc.upperBound_value(30)).toEqual(0.1788)
      expectRounded(@calc.upperBound_value(40)).toEqual(0.1737)
      expectRounded(@calc.upperBound_value(50)).toEqual(0.1697)
      expectRounded(@calc.upperBound_value(60)).toEqual(0.1666)
      expectRounded(@calc.upperBound_value(70)).toEqual(0.1640)
      expectRounded(@calc.upperBound_value(80)).toEqual(0.1618)
      expectRounded(@calc.upperBound_value(90)).toEqual(0.1598)
      expectRounded(@calc.upperBound_value(100)).toEqual(0.1581)
      expectRounded(@calc.upperBound_value(110)).toEqual(0.1566)
      expectRounded(@calc.upperBound_value(120)).toEqual(0.1552)
      expectRounded(@calc.upperBound_value(130)).toEqual(0.1539)
      expectRounded(@calc.upperBound_value(140)).toEqual(0.1528)
      expectRounded(@calc.upperBound_value(150)).toEqual(0.1517)
      expectRounded(@calc.upperBound_value(160)).toEqual(0.1507)
      expectRounded(@calc.upperBound_value(170)).toEqual(0.1498)
      expectRounded(@calc.upperBound_value(180)).toEqual(0.1489)
      expectRounded(@calc.upperBound_value(190)).toEqual(0.1481)
      expectRounded(@calc.upperBound_value(200)).toEqual(0.1473)
      expectRounded(@calc.upperBound_value(210)).toEqual(0.1466)
      expectRounded(@calc.upperBound_value(220)).toEqual(0.1459)
      expectRounded(@calc.upperBound_value(230)).toEqual(0.1452)
      expectRounded(@calc.upperBound_value(240)).toEqual(0.1446)
      expectRounded(@calc.upperBound_value(250)).toEqual(0.1440)
      expectRounded(@calc.upperBound_value(260)).toEqual(0.1434)
      expectRounded(@calc.upperBound_value(270)).toEqual(0.1429)
      expectRounded(@calc.upperBound_value(280)).toEqual(0.1423)
      expectRounded(@calc.upperBound_value(290)).toEqual(0.1418)
      expectRounded(@calc.upperBound_value(300)).toEqual(0.1413)
      expectRounded(@calc.upperBound_value(310)).toEqual(0.1409)
      expectRounded(@calc.upperBound_value(320)).toEqual(0.1404)
      expectRounded(@calc.upperBound_value(330)).toEqual(0.1400)
      expectRounded(@calc.upperBound_value(340)).toEqual(0.1395)
      expectRounded(@calc.upperBound_value(350)).toEqual(0.1391)
      expectRounded(@calc.upperBound_value(360)).toEqual(0.1387)
      expectRounded(@calc.upperBound_value(370)).toEqual(0.1383)
      expectRounded(@calc.upperBound_value(380)).toEqual(0.1380)
      expectRounded(@calc.upperBound_value(390)).toEqual(0.1376)
      expectRounded(@calc.upperBound_value(400)).toEqual(0.1372)
      expectRounded(@calc.upperBound_value(410)).toEqual(0.1369)
      expectRounded(@calc.upperBound_value(420)).toEqual(0.1365)
      expectRounded(@calc.upperBound_value(430)).toEqual(0.1362)
      expectRounded(@calc.upperBound_value(440)).toEqual(0.1359)
      expectRounded(@calc.upperBound_value(450)).toEqual(0.1356)
      expectRounded(@calc.upperBound_value(460)).toEqual(0.1353)
      expectRounded(@calc.upperBound_value(500)).toEqual(0.1341)
